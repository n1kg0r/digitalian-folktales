<!DOCTYPE html>

<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="style/index.css">
    </head>

    <body>
        
        <div class="contents">

            <section class="contents-header">
                <div style="flex-grow: 1;"></div>
                <div class = "contents-header-menu">
                    <span>user guide</span>
                    <span>who we are</span>
                    <span>IT</span>
                </div>
            </section>



            <section class="contents-body">

                <div class="contents-search-page">

                    <div class="logo-container">
                        <div class = "logo">
                            <span>digitalian</span>
                            <span>folktales</span>
                        </div>
                    </div>

                    <div class="searchbar-container">
                        <input class="search-input" placeholder="e.g. Gesù e San Pietro in Friuli" 
                        list="stories-names" autofocus oninput='onInput()' id='search-input'/>
                        <datalist id="stories-names">
                            <option value="Gesù e San Pietro in Friuli">
                            <option value="Gesù e San Pietro in Sicilia">
                        </datalist>
                    </div>
                    
                    <div class="searchbar-footer">
                        <div class = "searchbar-footer-buttons">
                            <span><a href="index.html" style="cursor: not-allowed;">advanced search</a></span>
                            <span><a href="analysis/comparison.html">compare two folkstories</a></span>
                        </div>
                    </div>

                </div>
            </section>



        </div>
    </body>

    

    <script>
        const namesToURLs = [
            {
                name: 'Gesù e San Pietro in Friuli',
                url: 'analysis/gesù-e-san-pietro-in-friuli.html'
            },
            {
                name: 'Gesù e San Pietro in Sicilia',
                url: 'analysis/gesù-e-san-pietro-in-sicilia.html'
            }
    ]

        function onInput() {
            var val = document.getElementById('search-input').value;
            var opts = document.getElementById('stories-names').childNodes;
            for (var i = 0; i < opts.length; i++) {

                if (opts[i].value === val) {

                    namesToURLs.forEach(element => 
                        {
                            if (element.name === val) {
                                window.open(element.url,"_self")
                            }
                        }
                    );

                    break;
                }
            }
        }


    </script>
</html>